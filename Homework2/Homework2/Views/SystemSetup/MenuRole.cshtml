@{
    ViewBag.Title = "MenuRole";
    Layout = "~/Views/Shared/_Layout.cshtml";

    if (Session["userID"] == null)
    {
        Response.Redirect("~/Profile/Index");
    }
}

@section stylesheet
{
    <link rel="stylesheet" href="~/Static/css/sidenavfixed.css" />
}

@section header {
    @{Html.RenderPartial("_NavBar");}
}

@section sidenav {
    @{Html.RenderPartial("_SideNav");}
}

@using (Html.BeginForm("MenuRoleDatabase", "SystemSetup", FormMethod.Post))
{
    <div class="row">
        <div class="input-field col s4 offset-s4">
            <select name="selectRole" class="wrapper">
                <option selected value="@Model.role.roleID">@Model.role.roleName</option>
            </select>
            <label>Role</label>
        </div>
    </div>

    <div class="row">
        <table class="highlight">
            <thead>
                <tr>
                    <th></th>
                    <th>Menu No</th>
                    <th>Level</th>
                    <th>Title</th>
                    <th>Link Type</th>
                    <th>Link URL</th>
                    <th>Status</th>
                </tr>
            </thead>

            <tbody>
                @foreach (var item in Model?.menu)
                {
                    <tr>
                        <td>
                            <label>
                                @if (Model.menuRole.Contains(item))
                                {
                                    <input value="@item.menuID" type="checkbox" class="filled-in" name="checkbox" checked/>
                                }
                                else
                                {
                                    <input value="@item.menuID" type="checkbox" class="filled-in" name="checkbox" />
                                }
                                <span></span>
                            </label>
                        </td>
                        <td>@item.menuNo</td>
                        <td>@item.level</td>
                        <td>@item.title</td>
                        <td>@item.linkType</td>
                        <td>@item.linkUrl</td>
                        @if(item.status == true)
                        {
                            <td>Y</td>
                        }
                        else
                        {
                            <td>N</td>
                        }
                    </tr>
                }
            </tbody>
        </table>
    </div>

    <div class="row">
        <div class="col s12">
            <div class="col s2">
                <button class="btn waves-effect waves-light" type="submit" name="action">
                    Save
                </button>
            </div>
            <div class="col s2">
                <button class="waves-effect waves-light btn" onclick="history.back()">Back</button>
            </div>
        </div>
    </div>
}