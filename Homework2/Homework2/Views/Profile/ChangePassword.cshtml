@model Homework2.Models.Account

@{
    ViewBag.Title = "Change Password";
    Layout = "~/Views/Shared/_Layout.cshtml";

    if(Session["userID"] == null)
    {
        Response.Redirect("~/Profile/Index");
    }
}


@section stylesheet
{
    <link rel="stylesheet" href="~/Static/css/sidenavfixed.css" />
}

@section header {
    @{Html.RenderPartial("_NavBar");}
}

@section sidenav {
    @{Html.RenderPartial("_SideNav");}
}

@section scripts {
    <script src="~/Static/js/changePassword.js" asp-append-version="true"></script>
}

<div class="row">
    <h5 class="center-align">@ViewData["Title"]</h5>
</div>

@using (Html.BeginForm("ChangePassword", "Profile", FormMethod.Post))
{
    <div>@TempData["Message"]</div>

    <div class="row">
        <div class="input-field col s4 offset-s4">
            <input id="username" name="Username" type="text" required class="validate" value="@ViewBag.username" />
            <label for="username">Username</label>
        </div>
    </div>

    <div class="row">
        <div class="input-field col s4 offset-s4">
            <input id="password" name="password" type="password" required class="validate" />
            <label for="password">Current Password</label>
            <span class="helper-text" data-error="Invalid Password"></span>
        </div>
    </div>

    <div class="row">
        <div class="input-field col s4 offset-s4">
            <input id="newPassword" name="newPassword" type="password" required class="validate" />
            <label for="newPassword">New Password</label>
            <span class="helper-text" data-error="Invalid Password"></span>
        </div>
    </div>

    <div class="row">
        <div class="input-field col s4 offset-s4">
            <input id="newPassword2" name="newPassword2" type="password" required class="validate" />
            <label for="newPassword2">Retype New Password</label>
            <span class="helper-text" data-error="New password do not match"></span>
        </div>
    </div>

    <div class="row">
        <div class="col s12">
            <div class="col s4 offset-s5">
                <button class="btn waves-effect waves-light" type="submit">
                    Save
                    <i class="material-icons right">save</i>
                </button>
            </div>
        </div>
    </div>
}
